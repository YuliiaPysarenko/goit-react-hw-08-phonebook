"use strict";(self.webpackChunkgoit_react_hw_08_phonebook_pysarenko=self.webpackChunkgoit_react_hw_08_phonebook_pysarenko||[]).push([[619],{7619:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(5861),a=n(7757),s=n.n(a),c=n(2791),i=n(8687),o=n(6140),l=n(2793),d=n(885),u=n(5984),h=n(3855),m=n(3360),x=n(184);var j=(0,i.$j)(null,(function(e){return{onSubmit:function(t){e(l.mh.addContact(t))}}}))((function(e){var t=e.onSubmit,n=(0,c.useState)(""),r=(0,d.Z)(n,2),a=r[0],s=r[1],i=(0,c.useState)(""),o=(0,d.Z)(i,2),l=o[0],j=o[1],p=(0,u.x0)(),f=(0,u.x0)();function b(e){var t=e.target,n=t.name,r=t.value;switch(n){case"username":s(r);break;case"number":j(r);break;default:return}}return(0,x.jsxs)(h.Z,{onSubmit:function(e){e.preventDefault(),t({name:a,number:l}),s(""),j("")},children:[(0,x.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,x.jsx)(h.Z.Label,{htmlFor:p,children:"Name"}),(0,x.jsx)(h.Z.Control,{type:"text",name:"username",value:a,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",id:p,onChange:b,required:!0})]}),(0,x.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,x.jsx)(h.Z.Label,{htmlFor:f,children:"Number"}),(0,x.jsx)(h.Z.Control,{type:"tel",name:"number",value:l,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",id:f,onChange:b,required:!0})]}),(0,x.jsx)(m.Z,{type:"submit",children:"Add contact"})]})})),p=function(e){var t=e.contact,n=t.id,r=t.name,a=t.number,s=(0,i.v9)(l.lP.getLoading),c=(0,i.I0)();return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:r}),(0,x.jsx)("td",{children:a}),(0,x.jsx)("td",{children:(0,x.jsx)(m.Z,{onClick:function(){return function(e){c(l.mh.deleteContact(e))}(n)},disabled:s,children:"Delete"})})]},n)},f=n(3545),b=n(2591),Z=function(){var e=(0,i.v9)(l.lP.getVisibleContacts),t=(0,i.v9)(l.lP.getLoading);return(0,x.jsxs)(x.Fragment,{children:[e?(0,x.jsxs)(b.Z,{hover:!0,children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{style:{width:"40%"},children:"Name"}),(0,x.jsx)("th",{style:{width:"40%"},children:"Phone Number"}),(0,x.jsx)("th",{style:{width:"20%"}})]})}),(0,x.jsx)("tbody",{children:e.map((function(e){return(0,x.jsx)(p,{contact:e},e.id)}))})]}):null,t&&(0,x.jsx)("div",{style:{textAlign:"center"},children:(0,x.jsx)(f.Rf,{width:"110",color:"#0d6efd"})})]})},v=(0,u.x0)(),g=function(){var e=(0,i.I0)();return(0,x.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,x.jsx)(h.Z.Label,{htmlFor:v,children:"Find by Name"}),(0,x.jsx)(h.Z.Control,{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",id:v,onChange:function(t){var n=t.target.value;e((0,l.M6)(n))},required:!0})]})},C=n(7022),y=n(9743),w=n(2677),N=n(9140);function k(){var e=(0,i.I0)();(0,c.useEffect)((function(){e(l.mh.fetchContacts())}),[e]);var t=(0,i.v9)(l.lP.getVisibleContacts),n=function(){var e=(0,r.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))?o.ZP.error("User ".concat(n.name," already exists")):(l.mh.addContact(n),o.ZP.success("Contact is successfully added."));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(C.Z,{className:"pt-5",children:(0,x.jsxs)(y.Z,{className:"mx-auto mt-5 justify-content-md-center",children:[(0,x.jsxs)(w.Z,{xs:"auto",md:8,xl:7,className:"p-3",children:[(0,x.jsx)("h2",{children:"Contacts"}),(0,x.jsx)(g,{}),(0,x.jsx)(o.x7,{position:"top-right",reverseOrder:!1}),(0,x.jsx)(Z,{})]}),(0,x.jsxs)(N.Z,{as:w.Z,xs:"auto",sm:6,md:4,lg:3,bg:"light",className:"p-3",children:[(0,x.jsx)("h2",{children:"Phonebook"}),(0,x.jsx)(j,{onSubmit:n})]})]})})})}}}]);
//# sourceMappingURL=619.b3b43331.chunk.js.map